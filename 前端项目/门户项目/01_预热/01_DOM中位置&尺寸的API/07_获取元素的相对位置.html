<!DOCTYPE html>
<html lang="en" id="html">
<head>
  <meta charset="UTF-8">
  <title>获取元素的相对位置</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    #wrap {
      position: absolute;
      background-color: pink;
      left: 200px;
      top: 200px;
    }

    #inner1 {
      position: absolute;
      background-color: deeppink;
      left: 150px;
      top: 150px;
    }

    div {
      width: 200px;
      height: 200px;
    }
  </style>
</head>
<body id="body" style="height: 3000px;">
<div id="wrap">wrap
  <div id="inner1">
    inner1
  </div>
</div>
</body>
<script>
  /*
  获取元素在页面中的位置
    绝对位置：到body的距离
    相对位置：到视口的距离
  */
  window.onload = function () {
    var inner1 = document.querySelector("#inner1");
    var point1 = getPointAb(inner1);
    var point2 = getPointRe(inner1);
    console.log(point1, point2);

    // border margin 都会影响这个函数的取值
    function getPointAb(node) {
      var x = 0;
      var y = 0;
      // while循环叠加offsetParent的offsetLeft和offsetTop
      while (node) {
        x += node.offsetLeft;
        y += node.offsetTop;
        node = node.offsetParent;
      }
      return {
        x: x,
        y: y
      };
    }

    function getPointRe(node) {
      var x = 0;
      var y = 0;
      while (node) {
        x += node.offsetLeft;
        y += node.offsetTop;
        node = node.offsetParent;
      }
      var L = document.documentElement.scrollLeft || document.body.scrollLeft;
      var T = document.documentElement.scrollTop || document.body.scrollTop;
      return {
        x: x - L,
        y: y - T
      };
    }
  }
</script>
</html>